{% extends 'base.html.twig' %}

{% block title %}Liste des Voitures{% endblock %}

{% block body %}
    <h1 id="main-title" class="text-center mb-4">Liste des Voitures</h1>

    <script type="module">
        // JavaScript to change background color dynamically
        document.addEventListener("DOMContentLoaded", () => {
            const title = document.getElementById("main-title");
            title.style.backgroundColor = getRandomColor();
        });

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
    </script>

    <div class="row">
        {% for car in cars %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <!-- Car details -->
                    <div class="card-body">
                        <h5 class="card-title">{{ car.getBrand() }} {{ car.getModel() }}</h5>
                        <p class="card-text">Année: {{ car.getYear() }}</p>
                        <p class="card-text">Kilométrage: {{ car.getKm() }} km</p>
                        <p class="card-text text-primary">Prix: {{ car.getPrice() }}€</p>
                        <p class="card-text">{{ car.getDescription() }}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <h2 class="mt-4">Liste des Voitures par Marque</h2>

    <ul>
        {% for car in carsByBrand %}
            <li>{{ car.getBrand() }} - {{ car.getModel() }} (Année: {{ car.getYear() }})</li>
        {% endfor %}
    </ul>
{% endblock %}
